
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Lab 3 - FireNet - Interface &#8212; ACE Operations Lab</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=9c3e77be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=1d85937c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=1ae7504c"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/lab3';</script>
    <link rel="icon" href="../_static/aviatrix-favicon-32.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lab 4 - FireNet - Routes" href="lab4.html" />
    <link rel="prev" title="Lab 2 - Connection Policy" href="lab2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="home.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/Aviatrix_Logo_White_Gradient_RGB.svg" class="logo__image only-light" alt="ACE Operations Lab - Home"/>
    <script>document.write(`<img src="../_static/Aviatrix_Logo_White_Gradient_RGB.svg" class="logo__image only-dark" alt="ACE Operations Lab - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="home.html">
                    Welcome to ACE Operations Lab
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pod.html">POD Portal</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab1.html">Lab 1 - Network Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab2.html">Lab 2 - Connection Policy</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Lab 3 - FireNet - Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab4.html">Lab 4 - FireNet - Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab5.html">Lab 5 - Routes Manipulation &amp; NAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab6.html">Lab 6 - Site2Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab7.html">Lab 7 - Aviatrix Cloud Firewall</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab8.html">Lab 8 - Distributed Cloud Firewall</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdfs.html">PDFs</a></li>
<li class="toctree-l1"><a class="reference internal" href="CloudHeroes.html">CLOUD NETWORKING HEROES PROGRAM</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/docs/lab3.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lab 3 - FireNet - Interface</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scenario">1. SCENARIO</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshoot-request">2. TROUBLESHOOT REQUEST</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-connectivity-using-gatus">2.1 Verify connectivity Using Gatus</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-connectivity-using-the-diagnostic-tools">2.2 Verify connectivity using the Diagnostic Tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-connectivity-using-the-ssh-client-bonus">2.3 Verify connectivity Using the SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-the-routing">2.4 Verify the Routing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet">2.5 FireNet</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-workaround">2.5.1 FireNet Workaround</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-verification-using-gatus">2.5.2 FireNet - Verification using Gatus</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-verification-using-the-diagnostic-tools">2.5.3 FireNet - Verification using the Diagnostic Tools</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-verification-using-ssh-client-bonus">2.5.4 FireNet - Verification Using SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discarding-the-workaround">2.6 Discarding the workaround</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#health-check-mechanism-failure">2.7 Health-check mechanism failure</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#connectivity-test-using-the-diagnostic-tools">2.7.1 Connectivity test Using the Diagnostic Tools</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#connectivity-test-using-the-ssh-client-bonus">2.7.2 Connectivity test Using the SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ngfw-misconfiguration">2.8 NGFW Misconfiguration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#final-verification">2.9 Final Verification</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.9.1 Verify connectivity Using Gatus</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.9.2 Verify connectivity Using the Diagnostic Tools</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">2.9.3 Verify connectivity Using the SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="lab-3-firenet-interface">
<h1>Lab 3 - FireNet - Interface<a class="headerlink" href="#lab-3-firenet-interface" title="Link to this heading">#</a></h1>
<section id="scenario">
<h2>1. SCENARIO<a class="headerlink" href="#scenario" title="Link to this heading">#</a></h2>
<p>BU1 and BU2 were able to communicate with each other as of Friday EOB (i.e end of LAB2).</p>
<p>However, the network team received a complaint from BU1 Frontend Team that the connectivity with BU2 Mobile App was no longer working.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The traffic between the two VPCs in AWS is inspected by a <strong>Firewall</strong> deployed through the Aviatrix <strong>FireNet</strong> feature.</p>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">Inspection</span> <span class="pre">Policy</span></code></strong> has already been applied to each Spoke VPC in AWS at POD launch. Traffic to or from either AWS VPC is routed to the Firewall through the Transit FireNet Gateway for Deep Packet Inspection.</p>
<ul class="simple">
<li><p>Navigate to <strong>CoPilot &gt; Security &gt; FireNet</strong>, click on the <em>ace-aws-eu-west-1-transit1</em> gateway and inspect the <code class="docutils literal notranslate"><span class="pre">&quot;Policy&quot;</span></code> tab.</p></li>
</ul>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/lab3-policy2.png"><img alt="../_images/lab3-policy2.png" src="../_images/lab3-policy2.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 100 </span><span class="caption-text">Inspection Policies on the FireNet Transit GW</span><a class="headerlink" href="#id4" title="Link to this image">#</a></p>
</figcaption>
</figure>
</div>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/lab3-topology.png"><img alt="../_images/lab3-topology.png" src="../_images/lab3-topology.png" style="height: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 101 </span><span class="caption-text">Lab 3 Topology</span><a class="headerlink" href="#id5" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="troubleshoot-request">
<h2>2. TROUBLESHOOT REQUEST<a class="headerlink" href="#troubleshoot-request" title="Link to this heading">#</a></h2>
<p>Let’s dive into troubleshooting to figure out exactly where things are going wrong.</p>
<section id="verify-connectivity-using-gatus">
<h3>2.1 Verify connectivity Using Gatus<a class="headerlink" href="#verify-connectivity-using-gatus" title="Link to this heading">#</a></h3>
</section>
<section id="verify-connectivity-using-the-diagnostic-tools">
<h3>2.2 Verify connectivity using the Diagnostic Tools<a class="headerlink" href="#verify-connectivity-using-the-diagnostic-tools" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Navigate to <strong>CoPilot &gt; Diagnostics &gt; Diagnostic Tools</strong>. Select the <strong><em>ace-aws-eu-west-1-spoke1</em></strong> gateway (the gateway in front of the source endpoint). First, <code class="docutils literal notranslate"><span class="pre">ping</span></code> the private IP address of <strong>BU2-MobileApp</strong>, then perform a <code class="docutils literal notranslate"><span class="pre">traceroute</span></code> to that address.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Retrieve the private IP address of the <strong>BU2 Mobile App</strong> from the <strong>Cloud Workloads</strong> inventory, first!</p>
<p>Navigate to <strong>CoPilot &gt; Cloud Resources &gt; Cloud Workloads &gt; Virtual Machines</strong> and search for <code class="docutils literal notranslate"><span class="pre">&quot;mobile&quot;</span></code>, then retrieve the private IP of the relevant EC2 instance.</p>
</div>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../_images/lab23-cp000.png"><img alt="../_images/lab23-cp000.png" src="../_images/lab23-cp000.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 102 </span><span class="caption-text">BU2-MobileApp is unreachable</span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/lab23-cp001.png"><img alt="../_images/lab23-cp001.png" src="../_images/lab23-cp001.png" style="height: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 103 </span><span class="caption-text">Traceroute outcome</span><a class="headerlink" href="#id7" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Now try to ping both workloads (i.e. BU1 Frontend and BU2 Mobile App) from the <strong>Transit</strong> GW in AWS.</p></li>
</ul>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/lab3-bu1ping.png"><img alt="../_images/lab3-bu1ping.png" src="../_images/lab3-bu1ping.png" style="height: 400px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 104 </span><span class="caption-text">Ping is successful from the Transit Gateway to BU1 Frontend.</span><a class="headerlink" href="#id8" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../_images/lab3-bu2ping.png"><img alt="../_images/lab3-bu2ping.png" src="../_images/lab3-bu2ping.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 105 </span><span class="caption-text">Ping is successful from the Transit Gateway to BU2 Mobile App.</span><a class="headerlink" href="#id9" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>From the outcome above, you can notice that the Transit GW in AWS can ping both BU1 Frontend and BU2 Mobile App, successfully.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The traceroute results show a surprising outcome: <strong>0</strong> hops.</p>
</div>
</section>
<section id="verify-connectivity-using-the-ssh-client-bonus">
<h3>2.3 Verify connectivity Using the SSH client <span style='color:#33ECFF'>(BONUS)</span></summary><a class="headerlink" href="#verify-connectivity-using-the-ssh-client-bonus" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Verify that the connectivity between <strong>BU1 Frontend</strong> and <strong>BU2 Mobile App</strong> is actually broken.</p>
<ul>
<li><p>SSH into <strong>BU1 Frontend</strong>, run ping tests to <strong>BU2-Mobile-App</strong>, initiate an SSH session to <strong>BU2-Mobile-App</strong>, and run also a traceroute to <strong>BU2-Mobile-App</strong>.</p></li>
</ul>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Private IP addresses can be found in the <code class="docutils literal notranslate"><span class="pre">Cloud</span> <span class="pre">Workloads</span></code> section.</p>
</div>
<figure class="align-center" id="id10">
<img alt="../_images/lab3-pingfails.png" src="../_images/lab3-pingfails.png" />
<figcaption>
<p><span class="caption-number">Fig. 106 </span><span class="caption-text">Ping fails</span><a class="headerlink" href="#id10" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id11">
<img alt="../_images/lab3-sshfails00.png" src="../_images/lab3-sshfails00.png" />
<figcaption>
<p><span class="caption-number">Fig. 107 </span><span class="caption-text">SSH fails</span><a class="headerlink" href="#id11" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id12">
<img alt="../_images/lab3-sshfails01.png" src="../_images/lab3-sshfails01.png" />
<figcaption>
<p><span class="caption-number">Fig. 108 </span><span class="caption-text">Traceroute outcome</span><a class="headerlink" href="#id12" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The traceroute results show a surprising outcome: <strong>1</strong> hop. Only the Spoke gateway acting as the default gateway is responding to the traceroute.</p>
</div>
</section>
<section id="verify-the-routing">
<h3>2.4 Verify the Routing<a class="headerlink" href="#verify-the-routing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Check whether the relevant Spoke Gateways have the required routes installed on their respective routing tables or not.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Navigate to <strong>CoPilot &gt; Cloud Fabric &gt; Gateways &gt; Spoke Gateways &gt;</strong> select for example the gateway <strong>ace-aws-eu-west-1-spoke1</strong>  <strong>&gt; Gateway Routes</strong> and search for the subnet <strong>10.1.212.0/24</strong>, where BU2 Mobile App resides.</p>
</div>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../_images/lab3-routecheck.png"><img alt="../_images/lab3-routecheck.png" src="../_images/lab3-routecheck.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 109 </span><span class="caption-text">Filtering out</span><a class="headerlink" href="#id13" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>From the above outcome, Spoke1 in AWS has the destination route in its RTB. You can verify the inverse by inspecting the Routing Table of Spoke2 in AWS.</p>
</section>
<section id="firenet">
<h3>2.5 FireNet<a class="headerlink" href="#firenet" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Let’s check the <strong>FireNet</strong> section!</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Navigate to <strong>CoPilot &gt; Security &gt; FireNet</strong></p>
</div>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../_images/lab3-unreachable.png"><img alt="../_images/lab3-unreachable.png" src="../_images/lab3-unreachable.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 110 </span><span class="caption-text">The FW is unreachable</span><a class="headerlink" href="#id14" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Open the <strong>Firewall</strong> tab; the firewall appears to be down.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The ICMP health check is initiated every <strong>5</strong> seconds from the Aviatrix Transit FireNet Gateway. The 5-second setting is the default and cannot be changed.</p>
</div>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../_images/lab3-fwdown.png"><img alt="../_images/lab3-fwdown.png" src="../_images/lab3-fwdown.png" style="height: 350px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 111 </span><span class="caption-text">The FW is down</span><a class="headerlink" href="#id15" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="firenet-workaround">
<h4>2.5.1 FireNet Workaround<a class="headerlink" href="#firenet-workaround" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Apply a quick <strong>workaround</strong>. Before continuing the firewall troubleshooting, exclude from the East-West Inspection, either of the CIDRs of the two AWS Spoke VPCs.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Navigate to <strong>CoPilot &gt; Security &gt; FireNet &gt; FireNet Gateways</strong> and click on the <strong><em>ace-aws-eu-west-1-transit1</em></strong> GW.</p>
<p>Then click on <strong>Settings</strong> and insert the CIDR of the AWS <strong>ace-aws-eu-west-1-spoke2</strong> VPC on the field <code class="docutils literal notranslate"><span class="pre">&quot;Exclude</span> <span class="pre">from</span> <span class="pre">East-West</span> <span class="pre">Inspection&quot;</span></code>.</p>
<p>Do not forget to click on <strong>Save</strong>.</p>
</div>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../_images/lab3-firenetgw.png"><img alt="../_images/lab3-firenetgw.png" src="../_images/lab3-firenetgw.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 112 </span><span class="caption-text">The Transit FireNet GW</span><a class="headerlink" href="#id16" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id17">
<img alt="../_images/lab3-excemption2.png" src="../_images/lab3-excemption2.png" />
<figcaption>
<p><span class="caption-number">Fig. 113 </span><span class="caption-text">Exclude the CIDR</span><a class="headerlink" href="#id17" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="firenet-verification-using-gatus">
<h4>2.5.2 FireNet - Verification using Gatus<a class="headerlink" href="#firenet-verification-using-gatus" title="Link to this heading">#</a></h4>
</section>
<section id="firenet-verification-using-the-diagnostic-tools">
<h4>2.5.3 FireNet - Verification using the Diagnostic Tools<a class="headerlink" href="#firenet-verification-using-the-diagnostic-tools" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">traceroute</span></code> directly from Spoke1 in EU-WEST-1, the gateway in the same VPC as the <strong>Frontend</strong> instance.</p></li>
<li><p>Navigate to <strong>CoPilot &gt; Diagnostics &gt; Diagnostic Tools</strong>. Select the <strong><em>ace-aws-eu-west-1-spoke1</em></strong> gateway, then run traceroute to the private IP address of the Mobile-App instance.</p></li>
</ul>
<figure class="align-center" id="id18">
<img alt="../_images/lab3-tracemobileapp.png" src="../_images/lab3-tracemobileapp.png" />
<figcaption>
<p><span class="caption-number">Fig. 114 </span><span class="caption-text">Traceroute is ok</span><a class="headerlink" href="#id18" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The traceroute outcome shows the whole path from the source, the BU1 Frontend, till the recipient, the BU2 Mobile App.</p>
<p><ins>Undoubtedly, the Firewall is excluded from this path!</ins></p>
</div>
</section>
<section id="firenet-verification-using-ssh-client-bonus">
<h4>2.5.4 FireNet - Verification Using SSH client <span style='color:#33ECFF'>(BONUS)</span></summary><a class="headerlink" href="#firenet-verification-using-ssh-client-bonus" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Alternatively, you can execute a <code class="docutils literal notranslate"><span class="pre">ping</span></code> from <strong>BU1 Frontend</strong> to <strong>BU2 Mobile App</strong> to verify connectivity; results should indicate a working connection.</p></li>
</ul>
<figure class="align-center" id="id19">
<img alt="../_images/lab3-pingok2.png" src="../_images/lab3-pingok2.png" />
<figcaption>
<p><span class="caption-number">Fig. 115 </span><span class="caption-text">Ping is ok</span><a class="headerlink" href="#id19" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Initiate a <code class="docutils literal notranslate"><span class="pre">traceroute</span></code> to the private IP address of the BU2 Mobile App.</p></li>
</ul>
<figure class="align-center" id="id20">
<img alt="../_images/lab3-traceroute.png" src="../_images/lab3-traceroute.png" />
<figcaption>
<p><span class="caption-number">Fig. 116 </span><span class="caption-text">Traceroute is ok</span><a class="headerlink" href="#id20" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The firewall is indeed excluded.</p>
</div>
</section>
</section>
<section id="discarding-the-workaround">
<h3>2.6 Discarding the workaround<a class="headerlink" href="#discarding-the-workaround" title="Link to this heading">#</a></h3>
<p>Having identified the root cause and applied the workaround, we should remove the workaround and investigate the firewall-side configuration.</p>
<ul class="simple">
<li><p><ins>Remove</ins> the <em>workaround</em> and perform a thorough review of the Firewall configuration.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Navigate to <strong>CoPilot &gt; Security &gt; FireNet &gt; FireNet Gateways</strong>, click on the <strong><em>ace-aws-eu-west-1-transit1</em></strong> GW, then click on <strong>Settings</strong> and remove the CIDR <code class="docutils literal notranslate"><span class="pre">10.1.212.0/24</span></code>.</p>
<p>Do not forget to click on <strong>Save</strong>.</p>
</div>
<figure class="align-center" id="id21">
<a class="reference internal image-reference" href="../_images/lab3-removeex.png"><img alt="../_images/lab3-removeex.png" src="../_images/lab3-removeex.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 117 </span><span class="caption-text">Remove the exemption</span><a class="headerlink" href="#id21" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="health-check-mechanism-failure">
<h3>2.7 Health-check mechanism failure<a class="headerlink" href="#health-check-mechanism-failure" title="Link to this heading">#</a></h3>
<p>Continue troubleshooting by using the packet capture feature on the transit gateway interface connected to the NGFW.</p>
<figure class="align-center" id="id22">
<a class="reference internal image-reference" href="../_images/lab3-ethernet01.png"><img alt="../_images/lab3-ethernet01.png" src="../_images/lab3-ethernet01.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 118 </span><span class="caption-text">eth-fn0 interface</span><a class="headerlink" href="#id22" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="connectivity-test-using-the-diagnostic-tools">
<h4>2.7.1 Connectivity test Using the Diagnostic Tools<a class="headerlink" href="#connectivity-test-using-the-diagnostic-tools" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Navigate to <strong>CoPilot &gt; Diagnostics &gt; Diagnostic Tools</strong>, select the <strong><em>ace-aws-eu-west-1-spoke1</em></strong> gateway, and generate a ping to the <strong>BU2 Mobile App</strong> private IP address.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To capture packets on the Transit Gateway, duplicate the tab and start a packet capture on the <strong>eth-fn0</strong> interface <ins>before generating the ICMP traffic</ins>.</p>
</div>
<figure class="align-center" id="id23">
<a class="reference internal image-reference" href="../_images/lab23-cp111.png"><img alt="../_images/lab23-cp111.png" src="../_images/lab23-cp111.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 119 </span><span class="caption-text">Packet Capture</span><a class="headerlink" href="#id23" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id24">
<a class="reference internal image-reference" href="../_images/lab23-cp112.png"><img alt="../_images/lab23-cp112.png" src="../_images/lab23-cp112.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 120 </span><span class="caption-text">Ping</span><a class="headerlink" href="#id24" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id25">
<a class="reference internal image-reference" href="../_images/lab23-cp113.png"><img alt="../_images/lab23-cp113.png" src="../_images/lab23-cp113.png" style="height: 300px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 121 </span><span class="caption-text">Packet Capture outcome</span><a class="headerlink" href="#id25" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You will observe only ECHO request packets initiated by the Transit Gateway. You can reasonably conclude:</p>
<ol class="arabic simple">
<li><p>ECHO request packets generated by the Spoke1 Gateway are not visible on the LAN interface.</p></li>
<li><p>ECHO reply packets generated by the BU-2 Mobile App are not visible on the LAN interface.</p></li>
<li><p>ECHO reply packets generated by the NGFW are not visible on the LAN interface.</p></li>
</ol>
</div>
</section>
<section id="connectivity-test-using-the-ssh-client-bonus">
<h4>2.7.2 Connectivity test Using the SSH client <span style='color:#33ECFF'>(BONUS)</span></summary><a class="headerlink" href="#connectivity-test-using-the-ssh-client-bonus" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Alternatively, maintain an open SSH session on the <strong>BU1 Frontend</strong> and generate ICMP Echo requests to the private IP address of the <strong>BU2 Mobile App</strong>.</p></li>
</ul>
<figure class="align-center" id="id26">
<a class="reference internal image-reference" href="../_images/lab3-ethernet02.png"><img alt="../_images/lab3-ethernet02.png" src="../_images/lab3-ethernet02.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 122 </span><span class="caption-text">ping</span><a class="headerlink" href="#id26" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Refer always to your personal POD Portal for the IP addresses!</p>
</div>
<ul class="simple">
<li><p>Navigate to <strong>CoPilot &gt; Diagnostics &gt; Diagnostics Tools</strong>. Select the <strong><em>ace-aws-eu-west-1-transit1</em></strong> gateway, then choose <strong><code class="docutils literal notranslate"><span class="pre">Packet</span> <span class="pre">Capture</span></code></strong> from the available features. Select the <code class="docutils literal notranslate"><span class="pre">eth-fn0</span></code> interface, set the duration to <strong>10</strong> seconds, and click <strong>Run</strong>. When the results appear, you can filter by <strong>“icmp”</strong>.</p></li>
</ul>
<figure class="align-center" id="id27">
<a class="reference internal image-reference" href="../_images/lab3-ethernet03.png"><img alt="../_images/lab3-ethernet03.png" src="../_images/lab3-ethernet03.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 123 </span><span class="caption-text">packet capture</span><a class="headerlink" href="#id27" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The observed traffic consists solely of ICMP echo requests issued by the Transit Gateway to the firewall’s LAN interface. The firewall is not producing echo replies; consequently, the Transit Gateway has no alternative but to drop the ICMP traffic generated by the BU1 Frontend, as the health-check mechanism has clearly failed.</p>
</section>
</section>
<section id="ngfw-misconfiguration">
<h3>2.8 NGFW Misconfiguration<a class="headerlink" href="#ngfw-misconfiguration" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Log in to the FW (<ins>refer to your POD portal for the credentials</ins>) and explore the configuration.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can access the Firewall in two ways:</p>
<ol class="arabic simple">
<li><p>From the URL available on the <strong>POD Portal</strong>.</p></li>
<li><p><strong>CoPilot &gt; Security &gt; FireNet &gt; Firewall</strong> and click on the <strong>URL</strong>.</p></li>
</ol>
</div>
<figure class="align-center" id="id28">
<img alt="../_images/lab3-newportal.png" src="../_images/lab3-newportal.png" />
<figcaption>
<p><span class="caption-number">Fig. 124 </span><span class="caption-text">POD Portal</span><a class="headerlink" href="#id28" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id29">
<a class="reference internal image-reference" href="../_images/lab3-url.png"><img alt="../_images/lab3-url.png" src="../_images/lab3-url.png" style="height: 200px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 125 </span><span class="caption-text">FW URL from the FireNet section on the CoPilot</span><a class="headerlink" href="#id29" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Insert the credentials.</p></li>
</ul>
<figure class="align-center" id="id30">
<img alt="../_images/lab3-fw.png" src="../_images/lab3-fw.png" />
<figcaption>
<p><span class="caption-number">Fig. 126 </span><span class="caption-text">FW access</span><a class="headerlink" href="#id30" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Navigate to <strong>FW &gt; Network &gt; Interfaces</strong> and click the LAN interface (<em>port2</em>) and fix the issue!</p>
</div>
<p>The port was disabled to simulate a software failure of the FW…</p>
<p>Double click on the greyed-out interface <strong>LAN (port2)</strong>, or alternatively, select the interface and click on the <strong>Edit</strong> button.</p>
<figure class="align-center" id="id31">
<img alt="../_images/lab3-fwint.png" src="../_images/lab3-fwint.png" />
<figcaption>
<p><span class="caption-number">Fig. 127 </span><span class="caption-text">FW interface</span><a class="headerlink" href="#id31" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Scroll down until you see the <code class="docutils literal notranslate"><span class="pre">&quot;Status&quot;</span></code> button of the interface and finally reactivate it.</p>
<p>Of course, then click on <strong>OK</strong>.</p>
<figure class="align-center" id="id32">
<img alt="../_images/lab3-enableint.png" src="../_images/lab3-enableint.png" />
<figcaption>
<p><span class="caption-number">Fig. 128 </span><span class="caption-text">Reactivate the LAN port</span><a class="headerlink" href="#id32" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="final-verification">
<h3>2.9 Final Verification<a class="headerlink" href="#final-verification" title="Link to this heading">#</a></h3>
<section id="id1">
<h4>2.9.1 Verify connectivity Using Gatus<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
</section>
<section id="id2">
<h4>2.9.2 Verify connectivity Using the Diagnostic Tools<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Rerun ping and traceroute from <strong><em>ace-aws-eu-west-1-spoke1</em></strong> (<code class="docutils literal notranslate"><span class="pre">Diagnostics</span> <span class="pre">&gt;</span> <span class="pre">Diagnostic</span> <span class="pre">Tools</span></code>) to <strong>BU2-MobileApp</strong>.</p></li>
</ul>
<figure class="align-center" id="id33">
<img alt="../_images/lab3-traceroute280.png" src="../_images/lab3-traceroute280.png" />
<figcaption>
<p><span class="caption-number">Fig. 129 </span><span class="caption-text">New Traceroute outcome from the Spoke1</span><a class="headerlink" href="#id33" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id34">
<img alt="../_images/lab3-traceroute28089.png" src="../_images/lab3-traceroute28089.png" />
<figcaption>
<p><span class="caption-number">Fig. 130 </span><span class="caption-text">New Ping outcome from the Spoke1</span><a class="headerlink" href="#id34" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>You have successfully fixed the issue and restored connectivity.</p>
</section>
<section id="id3">
<h4>2.9.3 Verify connectivity Using the SSH client <span style='color:#33ECFF'>(BONUS)</span></summary><a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>Reattempt the ping from <strong>BU1 Frontend</strong> to <strong>BU2 Mobile App</strong> once the firewall’s LAN interface has been reactivated.</p>
<figure class="align-center" id="id35">
<img alt="../_images/lab3-pingworks.png" src="../_images/lab3-pingworks.png" />
<figcaption>
<p><span class="caption-number">Fig. 131 </span><span class="caption-text">Ping is ok!</span><a class="headerlink" href="#id35" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>From the **BU1 Frontend **SSH session (still open), rerun the traceroute to <strong>BU2 Mobile App</strong>.</p></li>
</ul>
<figure class="align-center" id="id36">
<img alt="../_images/lab3-traceroute2.png" src="../_images/lab3-traceroute2.png" />
<figcaption>
<p><span class="caption-number">Fig. 132 </span><span class="caption-text">New Traceroute outcome</span><a class="headerlink" href="#id36" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This time, the traceroute shows the IP address of the Transit FireNet Gateway (e.g., <strong>.143</strong>, as in the example screenshot) twice along the path. This happens because the traffic is diverted to the firewall for <em>Deep Packet Inspection</em>, and after approval, the firewall sends the traffic back to the Transit FireNet Gateway.</p>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="lab2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Lab 2 - Connection Policy</p>
      </div>
    </a>
    <a class="right-next"
       href="lab4.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lab 4 - FireNet - Routes</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scenario">1. SCENARIO</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshoot-request">2. TROUBLESHOOT REQUEST</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-connectivity-using-gatus">2.1 Verify connectivity Using Gatus</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-connectivity-using-the-diagnostic-tools">2.2 Verify connectivity using the Diagnostic Tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-connectivity-using-the-ssh-client-bonus">2.3 Verify connectivity Using the SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-the-routing">2.4 Verify the Routing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet">2.5 FireNet</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-workaround">2.5.1 FireNet Workaround</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-verification-using-gatus">2.5.2 FireNet - Verification using Gatus</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-verification-using-the-diagnostic-tools">2.5.3 FireNet - Verification using the Diagnostic Tools</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#firenet-verification-using-ssh-client-bonus">2.5.4 FireNet - Verification Using SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discarding-the-workaround">2.6 Discarding the workaround</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#health-check-mechanism-failure">2.7 Health-check mechanism failure</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#connectivity-test-using-the-diagnostic-tools">2.7.1 Connectivity test Using the Diagnostic Tools</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#connectivity-test-using-the-ssh-client-bonus">2.7.2 Connectivity test Using the SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ngfw-misconfiguration">2.8 NGFW Misconfiguration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#final-verification">2.9 Final Verification</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.9.1 Verify connectivity Using Gatus</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.9.2 Verify connectivity Using the Diagnostic Tools</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">2.9.3 Verify connectivity Using the SSH client <span style="color:#33ECFF">(BONUS)</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Aviatrix ACE
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>